---
import OpenGraph from "./OpenGraph.astro";
import type { Props as OpenGraphProps } from "./OpenGraph.astro";
import Twitter from "./Twitter.astro";

export interface Props {
    title: string;
    description: string;
    openGraph?: OpenGraphProps;
}

const props = Astro.props;
const canonicalUrl = new URL(Astro.url.pathname, Astro.site);
const defaultOpenGraph: Partial<OpenGraphProps> = {
    title: props.title,
    description: props.description,
    url: canonicalUrl.toString(),
};

const openGraph: OpenGraphProps = { ...defaultOpenGraph, ...props.openGraph };
---

<link rel="canonical" href={canonicalUrl} />

<title>{props.title}</title>
<meta name="description" content={props.description} />

<OpenGraph {...openGraph} />
<Twitter />
