---
import { Icon } from 'astro-icon/components';
---

<div class="toolbox">
    <button class="theme">
        <Icon name="mdi:theme-light-dark" @click="toggleTheme($refs.html)" />
    </button>
    <button class="download">
        <Icon name="mdi:download" />
    </button>
</div>

<script is:inline>
function getPreferredTheme() {
    window.matchMedia('(prefers-color-scheme: dark)');
    return e.matches ? 'dark' : 'light';
}

function toggleTheme(root) {
    const currentTheme = (localStorage.getItem('theme') ?? getPreferredTheme()) === 'light' ? 'dark' : 'light';

    localStorage.setItem('theme', currentTheme);
    root.setAttribute('data-theme', currentTheme);
}
</script>

<style>
.toolbox {
    position: fixed;
    inset: auto 3em 3em auto;

    background-color: var(--accent-color);

    display: flex;
    flex-direction: column;
}

button {
    width: 3em;
    height: 3em;

    border: none;
    border-radius: 50%;

    display: flex;
    justify-content: center;
    align-items: center;
}

[data-icon] {
    font-size: 2em;
}
</style>

