---
import Button from "@/components/Button.astro";
---

<div class="controls">
    <Button id="toggle-theme" icon="mdi:theme-light-dark" secondary> Тема </Button>
    <!-- <Button id="language" icon="mdi:language" disabled secondary> -->
    <!--     Язык -->
    <!-- </Button> -->
</div>

<script>
    import { getCurrentTheme, toggleTheme } from "@/utils/theme.ts";
    import { debounce } from "@/utils/debounce.ts";

    const trackTheme = debounce((theme) => window.umami.track("Change theme", { theme }), 5000);

    document.getElementById("toggle-theme")?.addEventListener("click", () => {
        toggleTheme();
        trackTheme(getCurrentTheme());
    });
</script>

<style>
    .controls {
        display: flex;
        column-gap: var(--space-sm);
        font-size: medium;
    }
</style>
